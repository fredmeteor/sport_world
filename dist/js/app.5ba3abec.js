(function(){"use strict";var t={3052:function(t,e,a){var r=a(306);window.axios=r.Z,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.withCredentials=!0,window.axios.defaults.baseURL="http://localhost:3500",window.axios.interceptors.response.use((t=>t),(t=>401===t.response?.status?ErrorEvent:Promise.reject(t))),localStorage.getItem("access_token")&&(window.axios.defaults.headers.common["Authorization"]=`Bearer ${localStorage.getItem("access_token")}`);var s=a(7195),i=function(){var t=this,e=t._self._c;return e("router-view")},n=[],o=a(408),c={name:"app",methods:{...(0,o.nv)({getData:"getData",initializeCart:"cart/initializeCart"})},created(){this.getData(),this.initializeCart(this.$store)}},l=c,d=a(1001),u=(0,d.Z)(l,i,n,!1,null,null,null),p=u.exports,m=(a(7658),{namespaced:!0,state:{lines:[]},getters:{itemCount:t=>t.lines.reduce(((t,e)=>t+e.quantity),0),totalPrice:t=>t.lines.reduce(((t,e)=>t+e.quantity*e.product.price),0)},mutations:{addProduct(t,e){let a=t.lines.find((t=>t.product.id==e.id));null!=a?a.quantity++:t.lines.push({product:e,quantity:1})},changeQuantity(t,e){e.line.quantity=e.quantity},removeProduct(t,e){let a=t.lines.findIndex((t=>t==e));a>-1&&t.lines.splice(a,1)},setCartData(t,e){t.lines=e}},actions:{loadCartData(t){let e=localStorage.getItem("cart");null!=e&&t.commit("setCartData",JSON.parse(e))},storeCartData(t){localStorage.setItem("cart",JSON.stringify(t.state.lines))},clearCartData(t){t.commit("setCartData",[])},initializeCart(t,e){t.dispatch("loadCartData"),e.watch((t=>t.cart.lines),(()=>t.dispatch("storeCartData")),{deep:!0})}}});const v="http://localhost:3500/orders";var h={state:{orders:[]},mutations:{setOrders(t,e){t.orders=e},changeOrderShipped(t,e){s.ZP.set(e,"shipped",null==e.shipped||!e.shipped)}},actions:{async storeOrder(t,e){return e.cartLines=t.rootState.cart.lines,(await r.Z.post(v,e)).data.id},async getOrders(t){t.commit("setOrders",(await t.rootGetters.authenticatedAxios.get(v)).data)},async updateOrder(t,e){t.commit("changeOrderShipped",e),await t.rootGetters.authenticatedAxios.put(`${v}/${e.id}`,e)}}};const g="http://localhost:3500/login";var C={state:{authenticated:!1,jwt:null},getters:{authenticatedAxios(t){return r.Z.create({headers:{Authorization:`Bearer<${t.jwt}>`}})}},mutations:{setAuthenticated(t,e){t.jwt=e,t.authenticated=!0},clearAuthentication(t){t.authenticated=!1,t.jwt=null}},actions:{async authenticate(t,e){let a=await r.Z.post(g,e);1==a.data.success&&t.commit("setAuthenticated",a.data.token)}}};s.ZP.use(o.ZP);const _="http://localhost:3500",f=`${_}/products`,b=`${_}/categories`;var y=new o.ZP.Store({strict:!0,modules:{cart:m,orders:h,auth:C},state:{categoriesData:[],currentPage:1,pageSize:4,currentCategory:"All",pages:[],serverPageCount:0,searchTerm:"",showSearch:!1},getters:{processedProducts:t=>t.pages[t.currentPage],pageCount:t=>t.serverPageCount,categories:t=>["All",...t.categoriesData],productById:t=>e=>t.pages[t.currentPage].find((t=>t.id==e))},mutations:{_setCurrentPage(t,e){t.currentPage=e},_setPageSize(t,e){t.pageSize=e,t.currentPage=1},_setCurrentCategory(t,e){t.currentCategory=e,t.currentPage=1},addPage(t,e){for(let a=0;a<e.pageCount;a++)s.ZP.set(t.pages,e.number+a,e.data.slice(a*t.pageSize,a*t.pageSize+t.pageSize))},clearPages(t){t.pages.splice(0,t.pages.length)},setCategories(t,e){t.categoriesData=e},setPageCount(t,e){t.serverPageCount=Math.ceil(Number(e)/t.pageSize)},setShowSearch(t,e){t.showSearch=e},setSearchTerm(t,e){t.searchTerm=e,t.currentPage=1},addProduct(t,e){t.pages[t.currentPage].unshift(e)},updateProduct(t,e){let a=t.pages[t.currentPage],r=a.findIndex((t=>t.id==e.id));s.ZP.set(a,r,e)}},actions:{async getData(t){await t.dispatch("getPage",2),t.commit("setCategories",(await r.Z.get(b)).data)},async getPage(t,e=1){let a=`${f}?_page=${t.state.currentPage}&_limit=`+t.state.pageSize*e;"All"!=t.state.currentCategory&&(a+=`&category=${t.state.currentCategory}`),""!=t.state.searchTerm&&(a+=`&q=${t.state.searchTerm}`);let s=await r.Z.get(a);t.commit("setPageCount",s.headers["x-total-count"]),t.commit("addPage",{number:t.state.currentPage,data:s.data,pageCount:e})},setCurrentPage(t,e){t.commit("_setCurrentPage",e),t.state.pages[e]||t.dispatch("getPage")},setPageSize(t,e){t.commit("clearPages"),t.commit("_setPageSize",e),t.dispatch("getPage",2)},setCurrentCategory(t,e){t.commit("clearPages"),t.commit("_setCurrentCategory",e),t.dispatch("getPage",2)},search(t,e){t.commit("setSearchTerm",e),t.commit("clearPages"),t.dispatch("getPage",2)},clearSearchTerm(t){t.commit("setSearchTerm",""),t.commit("clearPages"),t.dispatch("getPage",2)},async addProduct(t,e){let a=(await t.getters.authenticatedAxios.post(f,e)).data;e.id=a.id,this.commit("_addProduct",e)},async removeProduct(t,e){await t.getters.authenticatedAxios.delete(`${f}/${e.id}`),t.commit("clearPages"),t.dispatch("getPage",1)},async updateProduct(t,e){await t.getters.authenticatedAxios.put(`${f}/${e.id}`,e),this.commit("_updateProduct",e)}}}),P=a(2241),w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col bg-dark text-white"},[e("a",{staticClass:"navbar-brand"},[t._v("SPORTS STORE")]),e("CartSummary")],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 bg-info p-2"},[e("h1",{staticClass:"text-white m-2"},[t._v("Categories")]),e("category-controls",{staticClass:"mb-5"}),e("button",{staticClass:"btn btn-block btn-warning mt-5",on:{click:function(e){return t.setShowSearch(!0)}}},[t._v(" Search Store ")])],1),e("div",{staticClass:"col-9 bg-success p-2"},[t._m(0),e("SearchProduct"),e("ProductList")],1)])])},$=[function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"text-white m-2"},[t._v("Products")])])}],x=function(){var t=this,e=t._self._c;return e("div",[t._l(t.products,(function(a){return e("div",{key:a.id,staticClass:"card m-1 p-1 bg-light"},[e("h4",[t._v(" "+t._s(a.name)+" "),e("span",{staticClass:"badge badge-pill badge-primary float-right"},[t._v(" "+t._s(t._f("currency")(a.price))+" ")])]),e("div",{staticClass:"card-text bg-white p-1"},[t._v(t._s(a.description)+" "),e("button",{staticClass:"btn btn-warning btn-sm float-right",on:{click:function(e){return t.handleProductAdd(a)}}},[t._v(" Add To Cart ")])])])})),e("PageControls")],2)},S=[],k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-3 form-group"},[e("select",{staticClass:"form-control",on:{change:t.changePageSize}},[e("option",{attrs:{value:"4"}},[t._v("4 per page")]),e("option",{attrs:{value:"8"}},[t._v("8 per page")]),e("option",{attrs:{value:"12"}},[t._v("12 per page")])])]),e("div",{staticClass:"text-right col"},[e("button",{staticClass:"btn btn-secondary mx -1",attrs:{disabled:1==t.currentPage},on:{click:function(e){return t.setCurrentPage(t.currentPage-1)}}},[t._v("Previous")]),t.currentPage>4?e("span",[e("button",{staticClass:"btn btn-secondary mx-1",on:{click:function(e){return t.setCurrentPage(1)}}},[t._v("1")]),e("span",{staticClass:"h4"},[t._v("...")])]):t._e(),e("span",{staticClass:"mx-1"},t._l(t.pageNumbers,(function(a){return e("button",{key:a,staticClass:"btn btn-secpmdary",class:{"btn-primary":a==t.currentPage},on:{click:function(e){return t.setCurrentPage(a)}}},[t._v(t._s(a))])})),0),t.currentPage<=t.pageCount-4?e("span",[e("span",{staticClass:"h4"},[t._v("...")]),e("button",{staticClass:"btn btn-secondary mx-1",on:{click:function(e){return t.setCurrentPage(t.pageCount)}}},[t._v(t._s(t.pageCount))])]):t._e(),e("button",{staticClass:"btn btn-secondary mx-1",attrs:{disabled:t.currentPage==t.pageCount},on:{click:function(e){return t.setCurrentPage(t.currentPage+1)}}},[t._v("Next")])])])},O=[],Z={computed:{...(0,o.rn)(["currentPage"]),...(0,o.Se)(["pageCount"]),pageNumbers(){return this.pageCount<4?[...Array(this.pageCount+1).keys()].slice(1):this.currentPage<=4?[1,2,3,4,5]:this.currentPage>this.pageCount-4?[...Array(5).keys()].reverse().map((t=>this.pageCount-t)):[this.currentPage-1,this.currentPage,this.currentPage+1]}},methods:{...(0,o.nv)(["setCurrentPage","setPageSize"]),changePageSize(t){this.setPageSize(t.target.value)}}},q=Z,A=(0,d.Z)(q,k,O,!1,null,null,null),T=A.exports,z={components:{PageControls:T},computed:{...(0,o.Se)({products:"processedProducts"})},filters:{currency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"GBP"}).format(t)}},methods:{...(0,o.OI)({addProduct:"cart/addProduct"}),handleProductAdd(t){this.addProduct(t),this.$router.push("/cart")}}},N=z,D=(0,d.Z)(N,x,S,!1,null,null,null),E=D.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},t._l(t.categories,(function(a){return e("div",{key:a,staticClass:"row my-2"},[e("button",{staticClass:"btn btn-block",class:a==t.currentCategory?"btn-primary":"btn-secondary",on:{click:function(e){return t.setCurrentCategory(a)}}},[t._v(" "+t._s(a)+" ")])])})),0)},R=[],M={computed:{...(0,o.rn)(["currentCategory"]),...(0,o.Se)(["categories"])},methods:{...(0,o.nv)(["setCurrentCategory"])}},j=M,L=(0,d.Z)(j,I,R,!1,null,null,null),B=L.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"float-right"},[e("small",[t._v(" Your cart: "),t.itemCount>0?e("span",[t._v(" "+t._s(t.itemCount)+" item(s) "+t._s(t._f("currency")(t.totalPrice))+" ")]):e("span",[t._v(" (empty) ")])]),e("router-link",{staticClass:"btn btn-sm bg-dark text-white",attrs:{to:"/cart",disabled:0==t.itemCount}},[e("i",{staticClass:"fa fa-shopping-cart"})])],1)},V=[],Q={computed:{...(0,o.Se)({itemCount:"cart/itemCount",totalPrice:"cart/totalPrice"})}},G=Q,U=(0,d.Z)(G,F,V,!1,null,null,null),Y=U.exports,H=function(){var t=this,e=t._self._c;return t.showSearch?e("div",{staticClass:"row my-2"},[e("label",{staticClass:"col-2 col-form-label text-right"},[t._v("Search:")]),e("input",{staticClass:"col form-control",attrs:{placeholder:"Enter search term..."},domProps:{value:t.searchTerm},on:{input:t.doSearch}}),e("button",{staticClass:"col-1 btn btn-sm btn-secondary mx-4",on:{click:t.handleClose}},[t._v(" Close ")])]):t._e()},J=[],W={computed:{...(0,o.rn)(["showSearch","searchTerm"])},methods:{...(0,o.OI)(["setShowSearch"]),...(0,o.nv)(["clearSearchTerm","search"]),handleClose(){this.clearSearchTerm(),this.setShowSearch(!1)},doSearch(t){this.search(t.target.value)}}},X=W,K=(0,d.Z)(X,H,J,!1,null,null,null),tt=K.exports,et={name:"app",components:{ProductList:E,CategoryControls:B,CartSummary:Y,SearchProduct:tt},methods:{...(0,o.OI)(["setShowSearch"])}},at=et,rt=(0,d.Z)(at,w,$,!1,null,null,null),st=rt.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col bg-dark text-white"},[e("a",{staticClass:"navbar-brand"},[t._v("SPORTS STORE")]),e("cart-summary")],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col mt-2"},[e("h2",{staticClass:"text-center"},[t._v("Your Cart")]),e("table",{staticClass:"table table-bordered table-striped p-2"},[t._m(0),e("tbody",[0==t.lines.length?e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v(" Your cart is empty ")])]):t._e(),t._l(t.lines,(function(a){return e("cart-line",{key:a.product.id,attrs:{line:a},on:{quantity:function(e){return t.handleQuantityChange(a,e)},remove:t.remove}})}))],2),t.lines.length>0?e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("Total:")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(t.totalPrice))+" ")])])]):t._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"/"}},[t._v(" Continue Shopping ")]),e("router-link",{staticClass:"btn btn-primary m-1",attrs:{to:"/checkout",disabled:0==t.lines.length}},[t._v(" Checkout ")])],1)])])])},nt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Quantity")]),e("th",[t._v("Product")]),e("th",{staticClass:"text-right"},[t._v("Price")]),e("th",{staticClass:"text-right"},[t._v("Subtotal")])])])}],ot=function(){var t=this,e=t._self._c;return e("tr",[e("td",[e("input",{staticClass:"form-control-sm",staticStyle:{width:"5em"},attrs:{type:"number"},domProps:{value:t.qvalue},on:{input:t.sendChangeEvent}})]),e("td",[t._v(t._s(t.line.product.name))]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t.line.product.price)+" ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t.line.quantity*t.line.product.price)+" ")]),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-danger",on:{click:t.sendRemoveEvent}},[t._v(" Remove ")])])])},ct=[],lt={props:["line"],data:function(){return{qvalue:this.line.quantity}},methods:{sendChangeEvent(t){t.target.value>0?(this.$emit("quantity",Number(t.target.value)),this.qvalue=t.target.value):(this.$emit("quantity",1),this.qvalue=1,t.target.value=this.qvalue)},sendRemoveEvent(){this.$emit("remove",this.line)}}},dt=lt,ut=(0,d.Z)(dt,ot,ct,!1,null,null,null),pt=ut.exports,mt={components:{CartLine:pt,CartSummary:Y},computed:{...(0,o.rn)({lines:t=>t.cart.lines}),...(0,o.Se)({totalPrice:"cart/totalPrice"})},methods:{...(0,o.OI)({change:"cart/changeQuantity",remove:"cart/removeProduct"}),handleQuantityChange(t,e){this.change({line:t,quantity:e})}}},vt=mt,ht=(0,d.Z)(vt,it,nt,!1,null,null,null),gt=ht.exports,Ct=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"m-2"},[e("div",{staticClass:"form-group m-2"},[e("label",[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.order.name.$model,expression:"$v.order.name.$model"}],staticClass:"form-control",domProps:{value:t.$v.order.name.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.order.name,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.order.name}})],1)]),e("div",{staticClass:"m-2"},[e("div",{staticClass:"form-group m-2"},[e("label",[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.order.email.$model,expression:"$v.order.email.$model"}],staticClass:"form-control",domProps:{value:t.$v.order.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.order.email,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.order.email}})],1)]),e("div",{staticClass:"m-2"},[e("div",{staticClass:"form-group m-2"},[e("label",[t._v("Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.order.address.$model,expression:"$v.order.address.$model"}],staticClass:"form-control",domProps:{value:t.$v.order.address.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.order.address,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.order.address}})],1)]),e("div",{staticClass:"m-2"},[e("div",{staticClass:"form-group m-2"},[e("label",[t._v("City")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.order.city.$model,expression:"$v.order.city.$model"}],staticClass:"form-control",domProps:{value:t.$v.order.city.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.order.city,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.order.city}})],1)]),e("div",{staticClass:"m-2"},[e("div",{staticClass:"form-group m-2"},[e("label",[t._v("Zip")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.order.zip.$model,expression:"$v.order.zip.$model"}],staticClass:"form-control",domProps:{value:t.$v.order.zip.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.order.zip,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.order.zip}})],1)]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"/cart"}},[t._v(" Back ")]),e("button",{staticClass:"btn btn-primary m-1",on:{click:t.submitOrder}},[t._v(" Place Order ")])],1)])},_t=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col bg-dark text-white"},[e("a",{staticClass:"navbar-brand"},[t._v("SPORTS STORE")])])])])}],ft=a(4940),bt=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"text-danger"},t._l(t.messages,(function(a){return e("div",{key:a},[t._v(t._s(a))])})),0):t._e()},yt=[],Pt={props:["validation"],computed:{show(){return this.validation.$dirty&&this.validation.$invalid},messages(){let t=[];return this.validation.$dirty&&(this.hasValidationError("required")?t.push("Please enter a value"):this.hasValidationError("email")&&t.push("Please enter a valid email address")),t}},methods:{hasValidationError(t){return this.validation.$params.hasOwnProperty(t)&&!this.validation[t]}}},wt=Pt,$t=(0,d.Z)(wt,bt,yt,!1,null,null,null),xt=$t.exports,St={components:{ValidationError:xt},data:function(){return{order:{name:null,email:null,address:null,city:null,zip:null}}},validations:{order:{name:{required:ft.C1},email:{required:ft.C1,email:ft.Do},address:{required:ft.C1},city:{required:ft.C1},zip:{required:ft.C1}}},methods:{...(0,o.nv)({storeOrder:"storeOrder",clearCart:"cart/clearCartData"}),async submitOrder(){if(this.$v.$touch(),!this.$v.$invalid){let t=await this.storeOrder(this.order);this.clearCart(),this.$router.push(`/thanks/${t}`)}}}},kt=St,Ot=(0,d.Z)(kt,Ct,_t,!1,null,null,null),Zt=Ot.exports,qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-2 text-center"},[e("h2",[t._v("Thanks!")]),e("p",[t._v("Thanks for placing your order, which is #"+t._s(t.orderId)+".")]),e("p",[t._v("We'll ship your goods as soon as possible.")]),e("router-link",{staticClass:"btn btn-primary",attrs:{to:"/"}},[t._v("Return to Store")])],1)},At=[],Tt={computed:{orderId(){return this.$route.params.id}}},zt=Tt,Nt=(0,d.Z)(zt,qt,At,!1,null,null,null),Dt=Nt.exports,Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-2"},[e("h4",{staticClass:"bg-primary text-white text-center p-2"},[t._v(" SportsStore Administration ")]),t.showFailureMessage?e("h4",{staticClass:"bg-danger text-white text-center p-2 my-2"},[t._v(" Authentication Failed. Please try again. ")]):t._e(),e("div",{staticClass:"form-group"},[e("label",[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.username.$model,expression:"$v.username.$model"}],staticClass:"form-control",domProps:{value:t.$v.username.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.username,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.username}})],1),e("div",{staticClass:"form-group"},[e("label",[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.password.$model,expression:"$v.password.$model"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.$v.password.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.password,"$model",e.target.value)}}}),e("validation-error",{attrs:{validation:t.$v.password}})],1),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-primary",on:{click:t.handleAuth}},[t._v("Log In")])])])},It=[],Rt={components:{ValidationError:xt},data:function(){return{username:"null",password:"null",showFailureMessage:!1}},computed:{...(0,o.rn)({authenticated:t=>t.auth.authenticated})},validations:{username:{required:ft.C1},password:{required:ft.C1}},methods:{...(0,o.nv)(["authenticate"]),async handleAuth(){this.$v.$touch(),this.$v.$invalid||(await this.authenticate({name:this.username,password:this.password}),this.authenticated?this.$router.push("/admin"):this.showFailureMessage=!0)}}},Mt=Rt,jt=(0,d.Z)(Mt,Et,It,!1,null,null,null),Lt=jt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 bg-secondary p-2"},[e("router-link",{staticClass:"btn btn-block btn-primary",attrs:{to:"/admin/products","active-class":"active"}},[t._v(" Products ")]),e("router-link",{staticClass:"btn btn-block btn-primary",attrs:{to:"/admin/orders","active-class":"active"}},[t._v(" Orders ")]),e("router-link",{staticClass:"btn btn-block btn-primary",attrs:{to:"/admin/categories","active-class":"active"}},[t._v(" Categories ")])],1),e("div",{staticClass:"col-9 p-2"},[e("router-view")],1)])])},Ft=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col bg-secondary text-white"},[e("a",{staticClass:"navbar-brand"},[t._v("SPORTS STORE Admin")])])])}],Vt={},Qt=(0,d.Z)(Vt,Bt,Ft,!1,null,null,null),Gt=Qt.exports,Ut=function(){var t=this,e=t._self._c;return e("div",[e("router-link",{staticClass:"btn btn-primary my-2",attrs:{to:"/admin/products/create"}},[t._v(" Create Product ")]),e("table",{staticClass:"table table-sm table-bordered"},[t._m(0),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.category))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.price)))]),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-danger mx-1",on:{click:function(e){return t.removeProduct(a)}}},[t._v("Delete")]),e("button",{staticClass:"btn btn-sm btn-warning mx-1",on:{click:function(e){return t.handleEdit(a)}}},[t._v("Edit")])])])})),0)]),e("page-controls")],1)},Yt=[function(){var t=this,e=t._self._c;return e("thead",[e("th",[t._v("ID")]),e("th",[t._v("Name")]),e("th",[t._v("Category")]),e("th",{staticClass:"text-right"},[t._v("Price")]),e("th",{staticClass:"text-center"},[t._v("Action")])])}],Ht={components:{PageControls:T},computed:{...(0,o.Se)({products:"processedProducts"})},methods:{...(0,o.nv)(["removeProduct"]),handleEdit(t){this.$router.push(`/admin/products/edit/${t.id}`)}}},Jt=Ht,Wt=(0,d.Z)(Jt,Ut,Yt,!1,null,"1d7531f0",null),Xt=Wt.exports,Kt=function(){var t=this,e=t._self._c;return e("div",[e("h4",{staticClass:"bg-info text-white text-center p-2"},[t._v("Orders")]),e("div",{staticClass:"form-group text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showShipped,expression:"showShipped"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showShipped)?t._i(t.showShipped,null)>-1:t.showShipped},on:{change:function(e){var a=t.showShipped,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);r.checked?n<0&&(t.showShipped=a.concat([i])):n>-1&&(t.showShipped=a.slice(0,n).concat(a.slice(n+1)))}else t.showShipped=s}}}),e("label",{staticClass:"form-check-label"},[t._v("Show Shipped Orders")])]),e("table",{staticClass:"table table-sm table-bordered"},[t._m(0),e("tbody",[0==t.displayOrders.length?e("tr",[e("td",{attrs:{colspan:"5"}},[t._v("There are no orders")])]):t._e(),t._l(t.displayOrders,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(`${a.city}, ${a.zip}`))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.getTotal(a))))]),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.shipOrder(a)}}},[t._v(" "+t._s(a.shipped?"Not Shipped":"Shipped")+" ")])])])}))],2)])])},te=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Name")]),e("th",[t._v("City, Zip")]),e("th",{staticClass:"text-right"},[t._v("Total")]),e("th")])])}],ee={data:function(){return{showShipped:!1}},computed:{...(0,o.rn)({orders:t=>t.orders.orders}),displayOrders(){return this.showShipped?this.orders:this.orders.filter((t=>1!=t.shipped))}},methods:{...(0,o.OI)(["changeOrderShipped"]),...(0,o.nv)(["getOrders","updateOrder"]),getTotal(t){return null!=t.cartLines&&t.cartLines.length>0?t.cartLines.reduce(((t,e)=>t+e.quantity*e.product.price),0):0},shipOrder(t){this.updateOrder(t)}},created(){this.getOrders()}},ae=ee,re=(0,d.Z)(ae,Kt,te,!1,null,null,null),se=re.exports,ie=function(){var t=this,e=t._self._c;return e("div",[e("h4",{staticClass:"text-center text-white p-2",class:t.themeClass},[t._v(" "+t._s(t.editMode?"Edit":"Create Product")+" ")]),t.$v.$invalid&&t.$v.$dirty?e("h4",{staticClass:"bg-danger text-white text-center p-2"},[t._v(" Values Required for All Fields ")]):t._e(),t.editMode?e("div",{staticClass:"form-group"},[e("label",[t._v("ID (Not Editable)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.id,expression:"product.id"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.product.id},on:{input:function(e){e.target.composing||t.$set(t.product,"id",e.target.value)}}})]):t._e(),e("div",{staticClass:"form-group"},[e("label",[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Description")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Category")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.category,expression:"product.category"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"category",e.target.multiple?a:a[0])}}},t._l(t.categories,(function(a){return e("option",{key:a},[t._v(" "+t._s(a)+" ")])})),0)]),e("div",{staticClass:"form-group"},[e("label",[t._v("Price")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondary m-1",attrs:{to:"/admin/products"}},[t._v("Cancel ")]),e("button",{staticClass:"btn m-1",class:t.themeClassButton,on:{click:t.handleSave}},[t._v(" "+t._s(t.editMode?"Save Changes":"Store Product")+" ")])],1)])},ne=[],oe={data:function(){return{product:{}}},computed:{...(0,o.rn)({pages:t=>t.pages,currentPage:t=>t.currentPage,categories:t=>t.categoriesData}),editMode(){return"edit"==this.$route.params["op"]},themeClass(){return this.editMode?"bg-info":"bg-primary"},themeClassButton(){return this.editMode?"btn-info":"btn-primary"}},validations:{product:{name:{required:ft.C1},description:{required:ft.C1},category:{required:ft.C1},price:{required:ft.C1}}},methods:{...(0,o.nv)(["addProduct","updateProduct"]),async handleSave(){this.$v.$touch(),this.$v.$invalid||(this.editMode?await this.updateProduct(this.product):await this.addProduct(this.product),this.$router.push("/admin/products"))}},created(){this.editMode&&Object.assign(this.product,this.$store.getters.productById(this.$route.params["id"]))}},ce=oe,le=(0,d.Z)(ce,ie,ne,!1,null,null,null),de=le.exports,ue=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"btn btn-primary my-2"},[t._v(" Create Categories ")]),e("table",{staticClass:"table table-sm table-bordered"},[t._m(0),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.category))])])})),0)])])},pe=[function(){var t=this,e=t._self._c;return e("thead",[e("th",[t._v("ID")]),e("th",[t._v("Category")])])}],me={components:{},computed:{...(0,o.Se)({products:"processedProduct"})},methods:{...(0,o.nv)(["removeProduct"])}},ve=me,he=(0,d.Z)(ve,ue,pe,!1,null,null,null),ge=he.exports;s.ZP.use(P.Z);var Ce=new P.Z({mode:"history",routes:[{path:"/",component:st},{path:"/cart",component:gt},{path:"/checkOut",component:Zt},{path:"/thanks/:id",component:Dt},{path:"/login",component:Lt},{path:"/admin",component:Gt,children:[{path:"products/:op(create|edit)/:id(\\d+)?",component:de},{path:"products",component:Xt},{path:"orders",component:se},{path:"categories",component:ge},{path:"",redirect:"/admin/products"}]},{path:"*",redirect:"/"}]}),_e=a(113);s.ZP.filter("currency",(t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"GBP"}).format(t))),s.ZP.use(_e.ZP),new s.ZP({render:t=>t(p),store:y,router:Ce}).$mount("#app"),console.log("Hello"),console.log("Apples"),console.log("This is a statement"),console.log("This is also a statement")}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,i){if(!r){var n=1/0;for(d=0;d<t.length;d++){r=t[d][0],s=t[d][1],i=t[d][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(o=!1,i<n&&(n=i));if(o){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[r,s,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,i,n=r[0],o=r[1],c=r[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var d=c(a)}for(e&&e(r);l<n.length;l++)i=n[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},r=self["webpackChunksports_store"]=self["webpackChunksports_store"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3052)}));r=a.O(r)})();
//# sourceMappingURL=app.5ba3abec.js.map